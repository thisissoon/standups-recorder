<main>
  <div class="standups-calendar">
    <div class="container">
      <div class="calendar-header pt-5">
  
        <div class="row no-gutters">
  
          <div class="col">
            <div class="calendar-cell calendar-title">
              <span>Mon</span>
            </div>
          </div>
  
          <div class="col">
            <div class="calendar-cell calendar-title">
              <span>Tue</span>
            </div>
          </div>
  
          <div class="col">
            <div class="calendar-cell calendar-title">
              <span>Wed</span>
            </div>
          </div>
  
          <div class="col">
            <div class="calendar-cell calendar-title">
              <span>Thu</span>
            </div>
          </div>
  
          <div class="col">
            <div class="calendar-cell calendar-title">
              <span>Fri</span>
            </div>
          </div>
  
        </div>
  
      </div>

      
  
      <div class="calendar-row mt-4" *ngFor="let week of calendarArray; let i = index">
        <div class="row no-gutters">

          <div class="col" *ngFor="let day of week; let j = index">
            <div>
              <div class="calendar-cell calendar-day">

                <div class="calendar-day__content">

                  <div *ngIf="week[j].ID">
                    <a routerLink="/history/{{week[j].ID}}">
                      <svg class="calendar-day__diagram" width="46px" height="46px" viewBox="0 0 46 46" version="1.1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink">
                        <!-- Generator: Sketch 47.1 (45422) - http://www.bohemiancoding.com/sketch -->
                        <desc>Created with Sketch.</desc>
                        <defs></defs>
                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                          <polyline id="Shape" stroke="#FFFFFF" fill-rule="nonzero" points="23.5 0 33.4742268 45 13.5257732 45 1 28.8947368 41.5927835 9 5.40721649 9 46 28.8947368"></polyline>
                        </g>
                      </svg>
                    </a>
                  </div>

                  <div *ngIf="!week[j].ID">

                      <button 
                        class="button-add button-add--sm button-add--black"
                        *ngIf="
                          week[j].date.toISOString().split('T')[0] != todayDate.toISOString().split('T')[0] &&
                          week[j].date.getTime() < todayDate.getTime()"
                          (click)="currentStandupService.setDate(week[j].date)"
                          routerLink="/standups/new/edit"
                      >
                        <span>+</span>
                      </button>
      
                      <button 
                        class="button-add button-add--sm"
                        *ngIf="
                           week[j].date.toISOString().split('T')[0] 
                          ===
                          todayDate.toISOString().split('T')[0]"
                        (click)="currentStandupService.setDate(week[j].date)"
                        routerLink="/standups/new/edit"
                      >
                        <span>+</span>
                      </button>

                  </div>

                </div>
                
                <div class="calendar-day__date mt-2">
                  <span>
                    {{week[j].date | date:'d/M'}}
                  </span>
                </div>

              </div>
            </div>
          </div>

        </div>
      </div>
  
    </div>
  </div>
</main>
<footer>
  <app-footer-nav
    [gradient]="true"
  ></app-footer-nav>
</footer>